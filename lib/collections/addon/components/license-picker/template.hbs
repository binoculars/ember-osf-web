<label>
    {{yield}}
    {{#validated-input
        type='power-select'
        model=node
        valuePath='license'
        search=(perform queryLicenses)
        options=licensesAcceptable
        onchange=(action 'changeLicense')
        noMatchesMessage=(t 'new_project.no_matches')
        as |license|
    }}
        {{license.name}}
    {{/validated-input}}
</label>
<small>
    <a
        target="_blank"
        rel="noopener"
        href={{helpLink}}
    >
        {{t 'collections.license_picker.faq'}}
    </a>
</small>
{{#if selected}}
    <br>
    <br>
    {{#validated-input
        type='custom'
        model=node
        valuePath='nodeLicense'
    }}
        {{#each requiredFields as |key|}}
            {{t (concat 'collections.license_picker.fields.' key)}}
            <br>
            {{input
                value=(mut (get node.nodeLicense key))
                change=(action 'notify')
            }}
            <br>
        {{/each}}
    {{/validated-input}}
    <br>
    <a role="button" onclick={{action (mut showText) (not showText)}}>
        {{t (concat 'collections.license_picker.' (if showText 'hide' 'show'))}}
    </a>
    {{#if showText}}
        <pre>{{licenseText}}</pre>
    {{/if}}
{{/if}}