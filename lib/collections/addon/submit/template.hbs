<div class="submit-header" local-class="header">
    <h1>{{t 'collections.submit.header'}}</h1>
</div>
<div local-class="body">
    <div class="container">
        <div class="row m-t-lg">
            {{#submit-section
                open=true
                titleKey='project_select_title'
            }}
                {{collection-item-picker
                    class="col-xs-12"
                    projectSelected=(action 'projectSelected')
                    validationChanged=(action (mut isProjectSelectorValid))
                }}
            {{/submit-section}}

            {{#submit-section
                open=collectionItem
                tooltipKey='closed_tooltip'
                titleKey='project_metadata_title'
                descriptionKey='project_metadata_description'
            }}
                {{project-metadata node=collectionItem}}
            {{/submit-section}}

            {{#submit-section
                open=collectionItem
                tooltipKey='closed_tooltip'
                titleKey='project_contributors_title'
                descriptionKey='project_contributors_description'
            }}
                {{project-contributors
                    node=collectionItem
                    contributors=collectionItem.contributors
                }}
            {{/submit-section}}

            {{#submit-section
                open=true
                titleKey='subjects_title'
                descriptionKey='subjects_description'
            }}
                {{subject-picker
                    id='subjects'
                    currentSubjects=collectedMetadatum.subjects
                }}
                {{validated-input
                    type='custom'
                    model=collectedMetadatum
                    valuePath='subjects'
                    didValidate=didValidate
                }}
            {{/submit-section}}

            {{#submit-section
                open=true
                titleKey='collection_metadata_title'
            }}
                {{collection-metadata
                    collection=collection
                    collectedMetadatum=collectedMetadatum
                    didValidate=didValidate
                }}
            {{/submit-section}}

            {{#submit-section open=true shadow=false}}
                <div class="col-xs-12 text-right">
                    <button class="btn btn-default" {{action 'cancel'}}>
                        {{t 'collections.submit.cancel'}}
                    </button>
                    <button class="btn btn-success" {{action (perform save)}} disabled={{not isProjectSelectorValid}}>
                        {{t 'collections.submit.add_to_collection'}}
                    </button>
                </div>
            {{/submit-section}}
        </div>
    </div>
</div>